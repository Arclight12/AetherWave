<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="style.css"/>
    <title>Album | AetherWave</title>
</head>
<body>
    <div class="container" style="display: grid; grid-template-columns: 1fr 3fr 1fr; height: 100vh;">
        <!-- Sidebar -->
        <aside class="sidebar" style="background-color: #1e1e1e; padding: 45px; ">
            <div class="logo">
                <button class="menu-btn" id="menu-close">
                    <i class='bx bx-log-out-circle'></i>
                </button>
                <i class='bx bx-pulse'></i>
                <a href="#">Aether Wave</a>
            </div>
            <h4 id="usernameDisplay">Welcome, Guest!</h4>
            <div class="menu">
                <h5>Menu</h5>
                <ul>
                    <li  id="profileMenuItem">
                        <i class='bx bxs-bolt-circle'></i>
                        <a href="#">Profile</a>
                    </li>
                    <li >
                        <i class='bx bxs-volume-full'></i>
                        <a href="#">Genres</a>
                    </li>
                    <li >
                        <i class='bx bxs-microphone'></i>
                        <a href="#">Artists</a>
                    </li>
                </ul>
            </div>
            <div class="menu" >
                <h5>Library</h5>
                <ul>
                    <li >
                        <i class='bx bx-undo'></i>
                        <a href="#">Recent</a>
                    </li>
                    <li >
                        <i class='bx bxs-photo-album'></i>
                        <a href="#">Albums</a>
                    </li>
                    <li>
                        <i class='bx bxs-heart'></i>
                        <a href="#">Favourites</a>
                    </li>
                </ul>
            </div>
            <div class="menu">
                <h5>Playlist</h5>
                <ul>
                    <li>
                        <i class='bx bxs-plus-square'></i>
                        <a href="#">Create New</a>
                    </li>
                    <li>
                        <i class='bx bxs-caret-right-circle'></i>
                        <a href="#">Best of 2025</a>
                    </li>
                    <li>
                        <i class='bx bxs-caret-right-circle'></i>
                        <a href="#" id="name">name</a>
                    </li>
                </ul>
            </div>
            <div class="playing" style="margin-top: 60px;">
                <div class="top">
                    <img src="assets/current.png" alt="Current Device">
                    <h4>Apple<br>Homepod</h4>
                </div>
                <div class="bottom">
                    <i class='bx bx-podcast'></i>
                    <p>Playing On Device</p>
                </div>
            </div>
        </aside>

        <!-- Middle Section -->
        <div class="middle-section" style="padding: 20px;">
            <iframe 
                id="albumFrame"
                style="border-radius: 12px; width: 100%; height: 100%; border: none;" 
                src="https://open.spotify.com/embed/artist/1Xyo4u8uXC1ZmMpatF05PJ?utm_source=generator" 
                frameBorder="0" 
                allowfullscreen="" 
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
                loading="lazy">
            </iframe>
        </div>

        <!-- Right Section -->
        <div class="right-section" style="background-color: #1e1e1e; padding: 20px;">
            <div class="profile">
                <div class="nav-links">
                    <a href="index.html" class="back"><i class='bx bx-arrow-back'></i> BACK</a>
                </div>
                <i class='bx bxs-bell'></i>
                <i class='bx bxs-cog'></i>
                <div class="user">
                    <div class="left">
                        <img src="assets/profile.png" alt="Profile Picture">
                    </div>
                    <div class="right">
                        <h5>John Doe</h5>
                    </div>
                </div>
            </div>
            <div class="music-player">
                <div class="top-section">
                    <div class="header">
                        <h5>Player</h5>
                        <i class='bx bxs-playlist'></i>
                    </div>
                    <div class="song-info">
                        <img src="assets/player.png" alt="Player">
                        <div class="description">
                            <h3>Take My Breath</h3>
                            <h5>The Weeknd</h5>
                            <p>Dawn FM</p>
                        </div>
                        <div class="progress">
                            <p>02:45</p>
                            <div class="active-line"></div>
                            <div class="deactive-line"></div>
                            <p>01:02</p>
                        </div>
                    </div>
                </div>
                <div class="player-actions">
                    <div class="buttons">
                        <i class='bx bx-repeat'></i>
                        <i class='bx bx-first-page'></i>
                        <i class='bx bxs-right-arrow play-button'></i>
                        <i class='bx bx-last-page'></i>
                        <i class='bx bx-transfer-alt'></i>
                    </div>
                    <div class="lyrics">
                        <i class='bx bx-chevron-up'></i>
                        <h5>LYRICS</h5>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const user = JSON.parse(localStorage.getItem("user"));
        const usernameDisplay = document.getElementById("usernameDisplay");
        const nameLink = document.getElementById("name");

        if (user) {
            usernameDisplay.textContent = `Welcome, ${user.username}!`;
            nameLink.textContent = user.username;
        } else {
            usernameDisplay.textContent = "Welcome, Guest!";
        }

        document.getElementById("menu-close").addEventListener("click", function() {
            window.location.href = "index.html";
        });
        const albums = {
            
        "Taylor Swift": "https://open.spotify.com/embed/artist/06HL4z0CvFAxyc27GXpf02?utm_source=generator",
        "Ed Sheeran": "https://open.spotify.com/embed/artist/6eUKZXaKkcviH0Ku9w2n3V?utm_source=generator",
        "Madison Beer": "https://open.spotify.com/embed/artist/2kRfqPViCqYdSGhYSM9R0Q?utm_source=generator",
        "Zayn": "https://open.spotify.com/embed/artist/5ZsFI1h6hIdQRw2ti0hz81?utm_source=generator",
        "Billie Eilish": "https://open.spotify.com/embed/artist/6qqNVTkY8uBg9cP3Jd7DAH?utm_source=generator",
        "Lana Del Rey": "https://open.spotify.com/embed/artist/00FQb4jTyendYWaN8pK0wa?utm_source=generator"
        // Add more artists and their album links here
        // "Artist Name": "https://open.spotify.com/embed/artist/artist_id?utm_source=generator"
    };

    // Function to get URL parameters
    function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
    }

    // Get the artist from the URL
    let artist = getQueryParam("artist");

    if (artist && albums[artist]) {
        document.getElementById("albumFrame").src = albums[artist]; // Set iframe source
    } else {
        document.getElementById("albumFrame").style.display = "none"; // Hide iframe if artist not found
    }

        // Add event listener to the back button
        document.querySelector(".back").addEventListener("click", function() {
            window.history.back();
        });
    </script>
</body>
</html>
